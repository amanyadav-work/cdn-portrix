(function(a,T){typeof exports=="object"&&typeof module<"u"?module.exports=T(require("react"),require("@react-three/fiber"),require("@react-three/drei"),require("gsap"),require("gsap/ScrollTrigger"),require("three")):typeof define=="function"&&define.amd?define(["react","@react-three/fiber","@react-three/drei","gsap","gsap/ScrollTrigger","three"],T):(a=typeof globalThis<"u"?globalThis:a||self,a.SceneRenderer=T(a.React,a.ReactThreeFiber,a.Drei,a.gsap,a.gsap.ScrollTrigger,a.THREE))})(this,function(a,T,D,w,F,B){"use strict";function H(s){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const p in s)if(p!=="default"){const o=Object.getOwnPropertyDescriptor(s,p);Object.defineProperty(i,p,o.get?o:{enumerable:!0,get:()=>s[p]})}}return i.default=s,Object.freeze(i)}const R=H(B);var A={exports:{}},k={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M;function Q(){if(M)return k;M=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function p(o,l,n){var c=null;if(n!==void 0&&(c=""+n),l.key!==void 0&&(c=""+l.key),"key"in l){n={};for(var b in l)b!=="key"&&(n[b]=l[b])}else n=l;return l=n.ref,{$$typeof:s,type:o,key:c,ref:l!==void 0?l:null,props:n}}return k.Fragment=i,k.jsx=p,k.jsxs=p,k}var x={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U;function K(){return U||(U=1,process.env.NODE_ENV!=="production"&&function(){function s(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case oe:return"Profiler";case ne:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case v:return"Portal";case se:return(e.displayName||"Context")+".Provider";case ae:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:s(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return s(e(t))}catch{}}return null}function i(e){return""+e}function p(e){try{i(e);var t=!1}catch{t=!0}if(t){t=console;var r=t.error,f=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",f),i(e)}}function o(e){if(e===P)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===z)return"<...>";try{var t=s(e);return t?"<"+t+">":"<...>"}catch{return"<...>"}}function l(){var e=C.A;return e===null?null:e.getOwner()}function n(){return Error("react-stack-top-frame")}function c(e){if(Z.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function b(e,t){function r(){W||(W=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}function O(){var e=s(this.type);return G[e]||(G[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function u(e,t,r,f,g,y,Y,I){return r=y.ref,e={$$typeof:h,type:e,key:t,props:y,_owner:g},(r!==void 0?r:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:O}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Y}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:I}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function m(e,t,r,f,g,y,Y,I){var d=t.children;if(d!==void 0)if(f)if(pe(d)){for(f=0;f<d.length;f++)j(d[f]);Object.freeze&&Object.freeze(d)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else j(d);if(Z.call(t,"key")){d=s(e);var _=Object.keys(t).filter(function(me){return me!=="key"});f=0<_.length?"{key: someKey, "+_.join(": ..., ")+": ...}":"{key: someKey}",q[d+f]||(_=0<_.length?"{"+_.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,f,d,_,d),q[d+f]=!0)}if(d=null,r!==void 0&&(p(r),d=""+r),c(t)&&(p(t.key),d=""+t.key),"key"in t){r={};for(var L in t)L!=="key"&&(r[L]=t[L])}else r=t;return d&&b(r,typeof e=="function"?e.displayName||e.name||"Unknown":e),u(e,d,y,g,l(),r,Y,I)}function j(e){typeof e=="object"&&e!==null&&e.$$typeof===h&&e._store&&(e._store.validated=1)}var S=a,h=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),de=Symbol.for("react.client.reference"),C=S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.prototype.hasOwnProperty,pe=Array.isArray,N=console.createTask?console.createTask:function(){return null};S={"react-stack-bottom-frame":function(e){return e()}};var W,G={},J=S["react-stack-bottom-frame"].bind(S,n)(),V=N(o(n)),q={};x.Fragment=P,x.jsx=function(e,t,r,f,g){var y=1e4>C.recentlyCreatedOwnerStacks++;return m(e,t,r,!1,f,g,y?Error("react-stack-top-frame"):J,y?N(o(e)):V)},x.jsxs=function(e,t,r,f,g){var y=1e4>C.recentlyCreatedOwnerStacks++;return m(e,t,r,!0,f,g,y?Error("react-stack-top-frame"):J,y?N(o(e)):V)}}()),x}var X;function $(){return X||(X=1,process.env.NODE_ENV==="production"?A.exports=Q():A.exports=K()),A.exports}var E=$();const ee={"sec-1":{name:"sec-1",modelTransform:{posX:-1,posY:0,posZ:0,rotX:0,rotY:-5,rotZ:0},background:{type:"solid",color1:"#fbfbfb",color2:"#350000"},lights:[{id:17530033689119426e-4,type:"Point",intensity:9.999999999999998,color:"#e8d8d4",position:[2,5,3],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1},{id:17530033689117395e-4,type:"Ambient",intensity:28,color:"#7f7f7f",position:[0,0,0],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1},{id:17530039069154421e-4,type:"Directional",intensity:9.700000000000001,color:"#ffeeee",position:[6.7,8.700000000000001,0],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1}],selectedAnimation:"Idle",loopCount:"Infinity"},"sec-2":{name:"sec-2",modelTransform:{posX:0,posY:0,posZ:0,rotX:0,rotY:-.7000000000000001,rotZ:0},background:{type:"solid",color1:"#ff6262",color2:"#350000"},lights:[{id:1753003615642278e-3,type:"Directional",intensity:25,color:"#ff3300",position:[2,5,3],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1},{id:17530036156426309e-4,type:"Ambient",intensity:28,color:"#803030",position:[0,0,0],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1}],selectedAnimation:"Idle",loopCount:"Infinity"},"sec-3":{name:"sec-3",modelTransform:{posX:-2.7,posY:-.9,posZ:3.4000000000000004,rotX:0,rotY:1.2000000000000002,rotZ:0},background:{type:"solid",color1:"#0bbc96",color2:"#350000"},lights:[{id:17530037182022205e-4,type:"Directional",intensity:25,color:"#07ff00",position:[-11102230246251565e-32,5,3],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1},{id:17530037182026328e-4,type:"Ambient",intensity:28,color:"#2d5c36",position:[0,0,0],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1}],selectedAnimation:"Take 001",loopCount:"Infinity"},"sec-4":{name:"sec-4",modelTransform:{posX:0,posY:-1.2000000000000002,posZ:4.9,rotX:0,rotY:-6.1000000000000005,rotZ:0},background:{type:"solid",color1:"#cfb82f",color2:"#350000"},lights:[{id:1753003968378131e-3,type:"Directional",intensity:6.699999999999999,color:"#e1ff00",position:[2,5,3],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1},{id:17530039683783835e-4,type:"Ambient",intensity:5.999999999999999,color:"#708030",position:[0,0,0],castShadow:!1,angle:0,penumbra:0,distance:0,decay:1}],selectedAnimation:"Idle",loopCount:"Infinity"}};w.registerPlugin(F.ScrollTrigger);function te({modelPath:s,activeSection:i,sceneSettings:p}){const o=a.useRef(),{scene:l}=D.useGLTF(s);D.useGLTF.preload(s);const{scene:n}=T.useThree(),c=a.useRef({position:new R.Vector3,rotation:new R.Euler}).current,[b,O]=a.useState([]);return a.useEffect(()=>{if(!i)return;const u=p[i];if(!u||!u.modelTransform)return;const{modelTransform:m,background:j,lights:S}=u;if(w.to(c.position,{x:m.posX,y:m.posY,z:m.posZ,duration:1,ease:"power1.out"}),w.to(c.rotation,{x:m.rotX,y:m.rotY,z:m.rotZ,duration:1,ease:"power1.out"}),j.type==="solid"){const h=new R.Color(j.color1);n.background||(n.background=new R.Color(h));const v=n.background;w.to(v,{r:h.r,g:h.g,b:h.b,duration:1,onUpdate:()=>{n.background.setRGB(v.r,v.g,v.b)}})}else n.background=null;O(S||[])},[i,n,p]),T.useFrame(()=>{o.current&&(o.current.position.lerp(c.position,.1),o.current.rotation.x=R.MathUtils.lerp(o.current.rotation.x,c.rotation.x,.1),o.current.rotation.y=R.MathUtils.lerp(o.current.rotation.y,c.rotation.y,.1),o.current.rotation.z=R.MathUtils.lerp(o.current.rotation.z,c.rotation.z,.1))}),E.jsxs(E.Fragment,{children:[b.map(u=>{const m={key:u.id,position:u.position,intensity:u.intensity,color:u.color,castShadow:u.castShadow};switch(u.type){case"Directional":return E.jsx("directionalLight",{...m});case"Point":return E.jsx("pointLight",{...m});case"Ambient":return E.jsx("ambientLight",{...m});case"Spot":return E.jsx("spotLight",{...m,angle:u.angle||Math.PI/6,penumbra:u.penumbra||0,decay:u.decay||1,distance:u.distance||0});default:return null}}),E.jsx("primitive",{object:l,ref:o})]})}function re({modelPath:s="https://white-deane-36.tiiny.site/models/Compressed-Sphere-Bot.glb"}){const[i,p]=a.useState(ee),[o,l]=a.useState(Object.values(i)[0].name);return a.useEffect(()=>{const n=c=>{c?.data?.type&&c.data.type==="UPDATE_SCENE_SETTINGS"&&p(c.data.data)};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)},[]),a.useLayoutEffect(()=>{const n=w.context(()=>{Object.values(i).forEach((b,O,u)=>{F.ScrollTrigger.create({trigger:`#${b.name}`,start:"top center",end:"bottom center",onEnter:()=>l(b.name),onEnterBack:()=>l(b.name)})})});return()=>n.revert()},[i]),E.jsx("div",{style:{width:"100%",height:"100%",position:"fixed",top:0,left:0,zIndex:-1,pointerEvents:"none"},children:E.jsx(T.Canvas,{style:{background:"transparent"},camera:{position:[0,0,10],fov:50},shadows:!0,children:E.jsx(te,{modelPath:s,activeSection:o,sceneSettings:i})})})}return re});
